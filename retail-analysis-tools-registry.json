{
  "description": "Registry of retail investor analysis tools for natural language question mapping",
  "version": "1.0.0",
  "last_updated": "2025-09-17",
  "total_tools": 47,
  "usage_note": "Each tool maps to specific user questions and keywords for natural language processing",
  
  "tier_1_information_tools": {
    "description": "Basic information lookup tools - first interaction point",
    "tools": [
      {
        "id": "current-price-stats",
        "name": "Current Price & Stats",
        "description": "Real-time price, volume, and basic statistics for any stock or ETF",
        "user_questions": [
          "What is AAPL trading at?",
          "Current price of Tesla",
          "MSFT stock price",
          "How much is SPY?"
        ],
        "keywords": ["price", "trading at", "current", "quote", "stock price", "how much"],
        "inputs": {
          "required": ["symbol"],
          "optional": ["exchange"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Stock/ETF symbol (e.g., AAPL, SPY)",
            "validation": "Valid ticker symbol"
          }
        },
        "functions_used": ["getStockSnapshots", "getStockQuotes"],
        "output_format": {
          "current_price": "number",
          "change_percent": "number", 
          "volume": "number",
          "market_cap": "number",
          "52_week_range": "object"
        },
        "complexity": "simple"
      },
      {
        "id": "company-profile",
        "name": "Company Profile",
        "description": "Basic company information, business description, and key facts",
        "user_questions": [
          "What does Apple do?",
          "Tell me about Microsoft",
          "What business is Tesla in?",
          "Company information for NVDA"
        ],
        "keywords": ["what does", "tell me about", "company info", "business", "profile"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string", 
            "description": "Stock symbol for company lookup"
          }
        },
        "functions_used": ["getFundamentals"],
        "output_format": {
          "company_name": "string",
          "business_description": "string",
          "sector": "string",
          "industry": "string",
          "employees": "number",
          "headquarters": "string"
        },
        "complexity": "simple"
      },
      {
        "id": "etf-holdings",
        "name": "ETF Holdings Breakdown",
        "description": "Complete holdings, weights, and sector allocation for any ETF",
        "user_questions": [
          "What's in SPY?",
          "SPY holdings",
          "What does QQQ own?",
          "VTI top holdings"
        ],
        "keywords": ["holdings", "what's in", "owns", "contains", "composition"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "ETF symbol (e.g., SPY, QQQ, VTI)"
          },
          "top_n": {
            "type": "number",
            "default": 10,
            "description": "Number of top holdings to show"
          }
        },
        "functions_used": ["getETFHoldings"],
        "output_format": {
          "top_holdings": "array",
          "sector_allocation": "object",
          "total_holdings": "number",
          "concentration_metrics": "object"
        },
        "complexity": "simple"
      },
      {
        "id": "valuation-metrics",
        "name": "Valuation Metrics",
        "description": "Key valuation ratios and fundamental metrics",
        "user_questions": [
          "What's Apple's PE ratio?",
          "TSLA valuation metrics",
          "Is MSFT expensive?",
          "Fundamental ratios for NVDA"
        ],
        "keywords": ["PE ratio", "valuation", "expensive", "cheap", "ratios", "fundamentals"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Stock symbol for valuation analysis"
          }
        },
        "functions_used": ["getFundamentals"],
        "output_format": {
          "pe_ratio": "number",
          "pb_ratio": "number", 
          "ps_ratio": "number",
          "peg_ratio": "number",
          "debt_to_equity": "number",
          "roe": "number"
        },
        "complexity": "simple"
      },
      {
        "id": "dividend-calendar",
        "name": "Dividend Calendar",
        "description": "Dividend history, yield, and payment schedule",
        "user_questions": [
          "When does AAPL pay dividends?",
          "MSFT dividend history",
          "What's the dividend yield?",
          "Next dividend payment date"
        ],
        "keywords": ["dividend", "yield", "payment", "ex-date", "dividend history"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Stock symbol for dividend analysis"
          },
          "years": {
            "type": "number",
            "default": 5,
            "description": "Years of dividend history"
          }
        },
        "functions_used": ["getDividends", "calculateDividendYield"],
        "output_format": {
          "current_yield": "number",
          "dividend_history": "array",
          "payment_frequency": "string",
          "next_payment_date": "string",
          "growth_rate": "number"
        },
        "complexity": "simple"
      }
    ]
  },

  "tier_2_performance_analysis": {
    "description": "Performance measurement and historical analysis tools",
    "tools": [
      {
        "id": "ytd-performance",
        "name": "Year-to-Date Performance",
        "description": "Current year performance with context and comparisons",
        "user_questions": [
          "How has AAPL done this year?",
          "TSLA YTD performance",
          "SPY performance 2024",
          "Year to date returns"
        ],
        "keywords": ["this year", "YTD", "2024", "year to date", "current year"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Asset symbol for YTD analysis"
          },
          "benchmark": {
            "type": "string", 
            "default": "SPY",
            "description": "Benchmark for comparison"
          }
        },
        "functions_used": ["getStockBars", "calculateTotalReturn", "comparePerformanceMetrics"],
        "output_format": {
          "ytd_return": "number",
          "benchmark_return": "number",
          "relative_performance": "number",
          "best_day": "object",
          "worst_day": "object"
        },
        "complexity": "simple"
      },
      {
        "id": "long-term-performance", 
        "name": "Long-term Performance Analysis",
        "description": "Multi-year performance with annualized returns and risk metrics",
        "user_questions": [
          "AAPL 5 year return",
          "How has Tesla performed over 3 years?",
          "Long term MSFT performance",
          "10 year SPY returns"
        ],
        "keywords": ["5 year", "3 year", "10 year", "long term", "historical performance"],
        "inputs": {
          "required": ["symbol", "years"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Asset symbol for analysis"
          },
          "years": {
            "type": "number",
            "options": [1, 3, 5, 10],
            "description": "Analysis period in years"
          }
        },
        "functions_used": ["getStockBars", "calculateCAGR", "calculateSharpeRatio", "calculateMaxDrawdown"],
        "output_format": {
          "total_return": "number",
          "annualized_return": "number",
          "volatility": "number",
          "sharpe_ratio": "number",
          "max_drawdown": "number"
        },
        "complexity": "simple"
      },
      {
        "id": "historical-extremes",
        "name": "Historical Extremes",
        "description": "Best and worst performing periods in history",
        "user_questions": [
          "What was AAPL's best year?",
          "TSLA worst performance",
          "SPY biggest gain",
          "Historical highs and lows"
        ],
        "keywords": ["best year", "worst", "biggest", "historical", "extremes", "highs", "lows"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Asset symbol for historical analysis"
          },
          "period_type": {
            "type": "string",
            "options": ["daily", "monthly", "yearly"],
            "default": "yearly",
            "description": "Period granularity for analysis"
          }
        },
        "functions_used": ["getStockBars", "calculateBestWorstPeriods"],
        "output_format": {
          "best_period": "object",
          "worst_period": "object", 
          "average_performance": "number",
          "volatility_range": "object"
        },
        "complexity": "simple"
      },
      {
        "id": "volatility-analysis",
        "name": "Volatility Analysis",
        "description": "Price volatility patterns and risk assessment",
        "user_questions": [
          "How volatile is AAPL?",
          "TSLA price swings", 
          "Is MSFT risky?",
          "Volatility comparison"
        ],
        "keywords": ["volatile", "volatility", "risky", "price swings", "stability"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Asset symbol for volatility analysis"
          },
          "period": {
            "type": "string",
            "options": ["30d", "90d", "1y"],
            "default": "90d",
            "description": "Analysis period"
          }
        },
        "functions_used": ["getStockBars", "calculateRollingVolatility", "calculateAnnualizedVolatility"],
        "output_format": {
          "current_volatility": "number",
          "historical_percentile": "number",
          "volatility_trend": "string",
          "risk_category": "string"
        },
        "complexity": "intermediate"
      },
      {
        "id": "max-drawdown-tool",
        "name": "Maximum Drawdown Analysis", 
        "description": "Worst decline periods and recovery analysis",
        "user_questions": [
          "What's AAPL's biggest drop?",
          "Worst decline for TSLA",
          "Maximum drawdown SPY",
          "Biggest loss period"
        ],
        "keywords": ["biggest drop", "worst decline", "maximum drawdown", "biggest loss"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string", 
            "description": "Asset symbol for drawdown analysis"
          },
          "years": {
            "type": "number",
            "default": 10,
            "description": "Years of history to analyze"
          }
        },
        "functions_used": ["getStockBars", "calculateMaxDrawdown"],
        "output_format": {
          "max_drawdown": "number",
          "drawdown_period": "object",
          "recovery_time": "number",
          "current_drawdown": "number"
        },
        "complexity": "intermediate"
      }
    ]
  },

  "tier_3_scenario_analysis": {
    "description": "What-if scenario and simulation tools",
    "tools": [
      {
        "id": "time-machine-calculator",
        "name": "Time Machine Investment Calculator",
        "description": "Calculate returns from any historical investment date",
        "user_questions": [
          "What if I bought AAPL in 2020?",
          "If I invested in Tesla 3 years ago",
          "What if I bought the March 2020 crash?",
          "Investment from IPO date"
        ],
        "keywords": ["what if", "if I bought", "if I invested", "time machine", "historical investment"],
        "inputs": {
          "required": ["symbol", "investment_date", "amount"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Asset symbol to analyze"
          },
          "investment_date": {
            "type": "date",
            "description": "Date of hypothetical investment"
          },
          "amount": {
            "type": "number",
            "description": "Investment amount in dollars"
          },
          "include_dividends": {
            "type": "boolean",
            "default": true,
            "description": "Include dividend reinvestment"
          }
        },
        "functions_used": ["getStockBars", "getDividends", "calculateTotalReturn", "calculateCAGR"],
        "output_format": {
          "initial_investment": "number",
          "current_value": "number",
          "total_return": "number",
          "annualized_return": "number",
          "shares_owned": "number"
        },
        "complexity": "simple"
      },
      {
        "id": "dca-simulator",
        "name": "Dollar-Cost Averaging Simulator",
        "description": "Simulate regular periodic investments over time",
        "user_questions": [
          "What if I invested $500/month?",
          "Dollar cost averaging into AAPL",
          "Monthly investing simulation",
          "DCA vs lump sum"
        ],
        "keywords": ["dollar cost", "DCA", "monthly", "periodic", "regular investing"],
        "inputs": {
          "required": ["symbol", "monthly_amount", "start_date"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Asset for DCA simulation"
          },
          "monthly_amount": {
            "type": "number",
            "description": "Monthly investment amount"
          },
          "start_date": {
            "type": "date",
            "description": "Start date for DCA"
          },
          "frequency": {
            "type": "string",
            "options": ["weekly", "monthly", "quarterly"],
            "default": "monthly",
            "description": "Investment frequency"
          }
        },
        "functions_used": ["getStockBars", "simulateDCA"],
        "output_format": {
          "total_invested": "number",
          "current_value": "number",
          "average_cost_basis": "number",
          "total_shares": "number",
          "return_vs_lump_sum": "number"
        },
        "complexity": "intermediate"
      },
      {
        "id": "crisis-investment-tool",
        "name": "Crisis Investment Analyzer",
        "description": "Analyze returns from investing during market crashes",
        "user_questions": [
          "What if I bought the 2020 crash?",
          "Investing during 2008 crisis",
          "Market crash opportunities",
          "Crisis investing returns"
        ],
        "keywords": ["crash", "crisis", "market bottom", "pandemic", "2008", "2020"],
        "inputs": {
          "required": ["symbol", "crisis_period"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Asset to analyze"
          },
          "crisis_period": {
            "type": "string",
            "options": ["2008_financial_crisis", "2020_covid_crash", "2022_tech_selloff", "custom"],
            "description": "Crisis period to analyze"
          },
          "investment_timing": {
            "type": "string",
            "options": ["bottom", "during_decline", "early_recovery"],
            "default": "bottom",
            "description": "When during crisis to simulate investment"
          }
        },
        "functions_used": ["getStockBars", "detectCrisisPeriods", "calculateTotalReturn"],
        "output_format": {
          "crisis_bottom_date": "string",
          "investment_price": "number",
          "recovery_period": "number",
          "total_return": "number",
          "lessons_learned": "array"
        },
        "complexity": "intermediate"
      },
      {
        "id": "perfect-timing-tool",
        "name": "Perfect Timing Analyzer",
        "description": "Calculate returns from perfect buy low/sell high timing",
        "user_questions": [
          "What if I timed the market perfectly?",
          "Best possible returns",
          "Perfect timing vs reality",
          "Market timing returns"
        ],
        "keywords": ["perfect timing", "best possible", "market timing", "buy low sell high"],
        "inputs": {
          "required": ["symbol", "years"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Asset for timing analysis"
          },
          "years": {
            "type": "number",
            "description": "Years to analyze"
          },
          "timing_frequency": {
            "type": "string",
            "options": ["annual", "quarterly", "monthly"],
            "default": "annual",
            "description": "How often to time entries/exits"
          }
        },
        "functions_used": ["getStockBars", "calculateBestWorstPeriods"],
        "output_format": {
          "perfect_timing_return": "number",
          "buy_hold_return": "number",
          "timing_premium": "number",
          "required_accuracy": "number"
        },
        "complexity": "advanced"
      }
    ]
  },

  "tier_4_comparison_tools": {
    "description": "Head-to-head comparison and battle tools",
    "tools": [
      {
        "id": "stock-battle",
        "name": "Stock Battle Tool",
        "description": "Comprehensive head-to-head stock comparison",
        "user_questions": [
          "AAPL vs MSFT which is better?",
          "Tesla vs Ford comparison",
          "NVDA vs AMD battle",
          "Compare Google and Microsoft"
        ],
        "keywords": ["vs", "versus", "compare", "which is better", "battle", "head to head"],
        "inputs": {
          "required": ["symbol1", "symbol2"]
        },
        "parameters": {
          "symbol1": {
            "type": "string",
            "description": "First stock symbol"
          },
          "symbol2": {
            "type": "string", 
            "description": "Second stock symbol"
          },
          "timeframe": {
            "type": "string",
            "options": ["1y", "3y", "5y", "10y"],
            "default": "3y",
            "description": "Comparison timeframe"
          }
        },
        "functions_used": ["getStockBars", "getFundamentals", "comparePerformanceMetrics", "compareRiskMetrics"],
        "output_format": {
          "performance_comparison": "object",
          "risk_comparison": "object",
          "valuation_comparison": "object",
          "winner_by_category": "object"
        },
        "complexity": "intermediate"
      },
      {
        "id": "etf-head-to-head",
        "name": "ETF Head-to-Head Comparison",
        "description": "Detailed ETF comparison including holdings and costs",
        "user_questions": [
          "SPY vs VTI difference",
          "QQQ vs VGT comparison", 
          "Which ETF is better?",
          "ETF comparison tool"
        ],
        "keywords": ["ETF", "vs", "difference", "which ETF", "fund comparison"],
        "inputs": {
          "required": ["etf1", "etf2"]
        },
        "parameters": {
          "etf1": {
            "type": "string",
            "description": "First ETF symbol"
          },
          "etf2": {
            "type": "string",
            "description": "Second ETF symbol"
          }
        },
        "functions_used": ["getETFHoldings", "compareExpenseRatios", "compareSectorExposure", "comparePerformanceMetrics"],
        "output_format": {
          "expense_ratio_comparison": "object",
          "holdings_overlap": "number",
          "sector_differences": "object",
          "performance_comparison": "object"
        },
        "complexity": "intermediate"
      },
      {
        "id": "sector-showdown",
        "name": "Sector Performance Showdown",
        "description": "Compare performance across market sectors",
        "user_questions": [
          "Tech vs Healthcare performance",
          "Best performing sector",
          "Sector comparison this year",
          "Which sector is winning?"
        ],
        "keywords": ["sector", "tech", "healthcare", "energy", "financial", "sector performance"],
        "inputs": {
          "required": ["sectors"]
        },
        "parameters": {
          "sectors": {
            "type": "array",
            "description": "Sectors to compare (e.g., ['Technology', 'Healthcare'])"
          },
          "timeframe": {
            "type": "string",
            "options": ["ytd", "1y", "3y", "5y"],
            "default": "ytd",
            "description": "Comparison period"
          }
        },
        "functions_used": ["getStockBars", "compareSectorExposure", "comparePerformanceMetrics"],
        "output_format": {
          "sector_returns": "object",
          "relative_performance": "object",
          "volatility_comparison": "object",
          "sector_rankings": "array"
        },
        "complexity": "intermediate"
      },
      {
        "id": "style-comparison",
        "name": "Investment Style Comparison",
        "description": "Compare growth vs value, large vs small cap performance",
        "user_questions": [
          "Growth vs Value this year",
          "Large cap vs small cap",
          "Style performance comparison",
          "Which style is winning?"
        ],
        "keywords": ["growth", "value", "large cap", "small cap", "style", "factor"],
        "inputs": {
          "required": ["style1", "style2"]
        },
        "parameters": {
          "style1": {
            "type": "string",
            "options": ["growth", "value", "large_cap", "small_cap", "momentum", "quality"],
            "description": "First investment style"
          },
          "style2": {
            "type": "string",
            "options": ["growth", "value", "large_cap", "small_cap", "momentum", "quality"],
            "description": "Second investment style"
          },
          "timeframe": {
            "type": "string",
            "options": ["ytd", "1y", "3y", "5y", "10y"],
            "default": "3y"
          }
        },
        "functions_used": ["getStockBars", "comparePerformanceMetrics", "analyzeMarketRegime"],
        "output_format": {
          "style_performance": "object",
          "cyclical_patterns": "object",
          "current_leadership": "string"
        },
        "complexity": "intermediate"
      }
    ]
  },

  "tier_5_technical_analysis": {
    "description": "Technical indicator and signal analysis tools",
    "tools": [
      {
        "id": "rsi-oversold-detector",
        "name": "RSI Oversold Signal Detector",
        "description": "Detect RSI oversold conditions and analyze signal quality",
        "user_questions": [
          "Is AAPL oversold?",
          "RSI oversold signals",
          "Oversold stocks today",
          "RSI below 30"
        ],
        "keywords": ["RSI", "oversold", "RSI below", "oversold signals"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Stock symbol to analyze"
          },
          "rsi_period": {
            "type": "number",
            "default": 14,
            "description": "RSI calculation period"
          },
          "oversold_threshold": {
            "type": "number",
            "default": 30,
            "description": "Oversold threshold level"
          }
        },
        "functions_used": ["getStockBars", "calculateRSI", "detectTechnicalEvents", "analyzeTechnicalSignalOutcomes"],
        "output_format": {
          "current_rsi": "number",
          "is_oversold": "boolean",
          "oversold_events_last_year": "number",
          "success_rate": "number",
          "avg_recovery_time": "number"
        },
        "complexity": "intermediate"
      },
      {
        "id": "macd-signal-analyzer",
        "name": "MACD Signal Analyzer",
        "description": "MACD crossover signals and trend analysis",
        "user_questions": [
          "MACD crossover AAPL",
          "MACD signals Tesla",
          "Bullish MACD crossover",
          "MACD analysis"
        ],
        "keywords": ["MACD", "crossover", "signal line", "bullish crossover", "MACD signals"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Stock symbol for MACD analysis"
          },
          "fast_period": {
            "type": "number",
            "default": 12
          },
          "slow_period": {
            "type": "number", 
            "default": 26
          },
          "signal_period": {
            "type": "number",
            "default": 9
          }
        },
        "functions_used": ["getStockBars", "calculateMACD", "detectTechnicalEvents"],
        "output_format": {
          "current_macd": "object",
          "signal_status": "string",
          "recent_crossovers": "array",
          "trend_direction": "string"
        },
        "complexity": "intermediate"
      },
      {
        "id": "moving-average-cross",
        "name": "Moving Average Crossover",
        "description": "Golden cross and death cross detection and analysis",
        "user_questions": [
          "Golden cross AAPL",
          "Death cross SPY", 
          "50/200 day moving average",
          "Moving average crossover"
        ],
        "keywords": ["golden cross", "death cross", "moving average", "50 day", "200 day", "MA cross"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Symbol for MA analysis"
          },
          "fast_period": {
            "type": "number",
            "default": 50,
            "description": "Fast moving average period"
          },
          "slow_period": {
            "type": "number",
            "default": 200,
            "description": "Slow moving average period"
          }
        },
        "functions_used": ["getStockBars", "calculateSMA", "detectSMACrossover"],
        "output_format": {
          "current_ma_relationship": "string",
          "days_since_cross": "number",
          "cross_type": "string",
          "success_rate": "number"
        },
        "complexity": "intermediate"
      },
      {
        "id": "bollinger-bands-analyzer",
        "name": "Bollinger Bands Analyzer",
        "description": "Bollinger band squeeze, breakout, and mean reversion signals",
        "user_questions": [
          "Bollinger bands AAPL",
          "Bollinger squeeze",
          "Band breakout signals",
          "Bollinger band analysis"
        ],
        "keywords": ["bollinger", "bands", "squeeze", "breakout", "band touch"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Symbol for Bollinger analysis"
          },
          "period": {
            "type": "number",
            "default": 20
          },
          "std_dev": {
            "type": "number",
            "default": 2
          }
        },
        "functions_used": ["getStockBars", "calculateBollingerBands", "detectTechnicalEvents"],
        "output_format": {
          "current_position": "string",
          "band_width": "number",
          "squeeze_status": "boolean",
          "recent_signals": "array"
        },
        "complexity": "intermediate"
      },
      {
        "id": "support-resistance",
        "name": "Support & Resistance Levels",
        "description": "Key support and resistance level identification",
        "user_questions": [
          "Support levels AAPL",
          "Resistance for Tesla",
          "Key levels SPY",
          "Support and resistance"
        ],
        "keywords": ["support", "resistance", "key levels", "price levels"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Symbol for S&R analysis"
          },
          "lookback_days": {
            "type": "number",
            "default": 252,
            "description": "Days to look back for level identification"
          }
        },
        "functions_used": ["getStockBars", "identifySupportResistance"],
        "output_format": {
          "support_levels": "array",
          "resistance_levels": "array", 
          "current_level": "string",
          "nearest_support": "number",
          "nearest_resistance": "number"
        },
        "complexity": "advanced"
      }
    ]
  },

  "tier_6_decision_support": {
    "description": "Decision support and advisory tools",
    "tools": [
      {
        "id": "buy-signal-analyzer",
        "name": "Buy Signal Analyzer",
        "description": "Analyze current buy signals and entry point quality",
        "user_questions": [
          "Should I buy AAPL now?",
          "Is it a good time to buy Tesla?",
          "Buy signals for MSFT",
          "Entry point analysis"
        ],
        "keywords": ["should I buy", "good time to buy", "buy signals", "entry point"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Symbol to analyze for buy signals"
          },
          "risk_tolerance": {
            "type": "string",
            "options": ["conservative", "moderate", "aggressive"],
            "default": "moderate"
          }
        },
        "functions_used": ["getStockBars", "calculateRSI", "calculateMACD", "detectTechnicalEvents"],
        "output_format": {
          "overall_signal": "string",
          "technical_score": "number",
          "fundamental_score": "number",
          "risk_factors": "array",
          "signal_strength": "string"
        },
        "complexity": "advanced"
      },
      {
        "id": "sell-signal-analyzer",
        "name": "Sell Signal Analyzer", 
        "description": "Analyze sell signals and exit point recommendations",
        "user_questions": [
          "Should I sell Tesla?",
          "Time to sell AAPL?",
          "Sell signals NVDA",
          "Exit point analysis"
        ],
        "keywords": ["should I sell", "time to sell", "sell signals", "exit point"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Symbol to analyze for sell signals"
          },
          "holding_period": {
            "type": "string",
            "options": ["short_term", "medium_term", "long_term"],
            "description": "Investment time horizon"
          }
        },
        "functions_used": ["getStockBars", "calculateRSI", "calculateMACD", "detectTechnicalEvents"],
        "output_format": {
          "overall_signal": "string",
          "technical_score": "number",
          "momentum_score": "number",
          "warning_signs": "array",
          "exit_strategy": "string"
        },
        "complexity": "advanced"
      },
      {
        "id": "dip-buying-analyzer",
        "name": "Dip Buying Analyzer",
        "description": "Analyze if current dip represents buying opportunity",
        "user_questions": [
          "Should I buy the dip?",
          "Is this a good dip to buy?",
          "Buy the dip analysis",
          "Dip buying opportunity"
        ],
        "keywords": ["buy the dip", "dip buying", "buying opportunity", "market dip"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Symbol experiencing the dip"
          },
          "dip_threshold": {
            "type": "number",
            "default": -10,
            "description": "Minimum decline percentage to consider a dip"
          }
        },
        "functions_used": ["getStockBars", "calculateMaxDrawdown", "detectCrisisPeriods", "analyzeDipBuyingSuccess"],
        "output_format": {
          "current_dip_size": "number",
          "dip_quality_score": "number",
          "historical_dip_success": "number",
          "recovery_probability": "number",
          "recommendation": "string"
        },
        "complexity": "advanced"
      },
      {
        "id": "rebalancing-advisor",
        "name": "Portfolio Rebalancing Advisor",
        "description": "Determine when and how to rebalance portfolio",
        "user_questions": [
          "Should I rebalance my portfolio?",
          "Time to rebalance?",
          "Rebalancing analysis",
          "Portfolio drift check"
        ],
        "keywords": ["rebalance", "portfolio drift", "asset allocation", "rebalancing"],
        "inputs": {
          "required": ["portfolio_positions"]
        },
        "parameters": {
          "portfolio_positions": {
            "type": "array",
            "description": "Current portfolio positions with symbols and weights"
          },
          "target_allocation": {
            "type": "object",
            "description": "Target allocation percentages"
          },
          "rebalance_threshold": {
            "type": "number",
            "default": 5,
            "description": "Percentage drift threshold for rebalancing"
          }
        },
        "functions_used": ["analyzePortfolioConcentration", "calculatePortfolioDrift", "simulateRebalancing"],
        "output_format": {
          "current_drift": "object",
          "rebalance_needed": "boolean",
          "suggested_trades": "array",
          "cost_benefit_analysis": "object"
        },
        "complexity": "advanced"
      }
    ]
  },

  "tier_7_market_context": {
    "description": "Market condition and regime analysis tools",
    "tools": [
      {
        "id": "market-regime-identifier",
        "name": "Market Regime Identifier",
        "description": "Identify current market regime (bull/bear/sideways)",
        "user_questions": [
          "Is this a bull market?",
          "Are we in a bear market?",
          "What type of market is this?",
          "Market regime analysis"
        ],
        "keywords": ["bull market", "bear market", "market regime", "market conditions"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "default": "SPY",
            "description": "Market index to analyze"
          },
          "lookback_period": {
            "type": "number",
            "default": 252,
            "description": "Days to analyze for regime detection"
          }
        },
        "functions_used": ["getStockBars", "detectMarketRegime", "calculateTrendStrength"],
        "output_format": {
          "current_regime": "string",
          "regime_confidence": "number",
          "regime_duration": "number",
          "trend_strength": "number",
          "regime_characteristics": "object"
        },
        "complexity": "intermediate"
      },
      {
        "id": "fear-greed-meter",
        "name": "Market Fear & Greed Meter",
        "description": "Assess market sentiment through fear and greed indicators",
        "user_questions": [
          "How scared is the market?",
          "Market fear level",
          "VIX fear index",
          "Market sentiment analysis"
        ],
        "keywords": ["market fear", "scared", "VIX", "fear index", "market sentiment"],
        "inputs": {
          "optional": ["custom_indicators"]
        },
        "parameters": {
          "vix_symbol": {
            "type": "string",
            "default": "VIX",
            "description": "Volatility index symbol"
          }
        },
        "functions_used": ["getVIXData", "calculateFearGreedIndex", "identifyVIXSpike"],
        "output_format": {
          "fear_greed_score": "number",
          "sentiment_level": "string",
          "vix_level": "number",
          "historical_context": "object",
          "contrarian_signal": "boolean"
        },
        "complexity": "intermediate"
      },
      {
        "id": "earnings-calendar-tool",
        "name": "Earnings Calendar Impact",
        "description": "Track upcoming earnings and their potential impact",
        "user_questions": [
          "When do AAPL earnings come out?",
          "Earnings calendar this week",
          "TSLA earnings date",
          "Upcoming earnings impact"
        ],
        "keywords": ["earnings", "earnings date", "earnings calendar", "when do earnings"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Symbol to check earnings for"
          },
          "weeks_ahead": {
            "type": "number",
            "default": 4,
            "description": "Weeks to look ahead for earnings"
          }
        },
        "functions_used": ["getEarningsCalendar", "analyzeEarningsReactions"],
        "output_format": {
          "next_earnings_date": "string",
          "days_until_earnings": "number",
          "historical_reactions": "object",
          "volatility_expectation": "number"
        },
        "complexity": "simple"
      },
      {
        "id": "economic-event-calendar",
        "name": "Economic Event Calendar",
        "description": "Track Fed meetings, economic data releases, and market impact",
        "user_questions": [
          "When is the next Fed meeting?",
          "Economic calendar this week",
          "Fed rate decision date",
          "Economic events impact"
        ],
        "keywords": ["Fed meeting", "economic calendar", "rate decision", "economic events"],
        "inputs": {
          "optional": ["event_types"]
        },
        "parameters": {
          "weeks_ahead": {
            "type": "number",
            "default": 8,
            "description": "Weeks to look ahead"
          },
          "event_types": {
            "type": "array",
            "default": ["fed_meeting", "cpi", "jobs_report"],
            "description": "Types of events to track"
          }
        },
        "functions_used": ["getFedMeetingDates", "getEconomicCalendar"],
        "output_format": {
          "upcoming_events": "array",
          "next_fed_meeting": "string",
          "market_impact_forecast": "object"
        },
        "complexity": "intermediate"
      }
    ]
  },

  "tier_8_educational_tools": {
    "description": "Educational and explanation tools",
    "tools": [
      {
        "id": "price-movement-explainer",
        "name": "Price Movement Explainer",
        "description": "Explain why a stock moved up or down today",
        "user_questions": [
          "Why is AAPL down today?",
          "What caused Tesla to jump?",
          "Why did the market drop?",
          "Stock movement explanation"
        ],
        "keywords": ["why is", "what caused", "why did", "movement explanation"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Symbol to explain price movement for"
          },
          "analysis_date": {
            "type": "date",
            "default": "today",
            "description": "Date to analyze movement for"
          }
        },
        "functions_used": ["getStockBars", "getMarketNews", "analyzeVolumeSpikes", "correlateMovementFactors"],
        "output_format": {
          "price_change": "number",
          "volume_analysis": "object",
          "news_impact": "array",
          "sector_correlation": "object",
          "likely_causes": "array"
        },
        "complexity": "intermediate"
      },
      {
        "id": "rsi-explainer",
        "name": "RSI Signal Explainer",
        "description": "Educational tool explaining RSI and how to interpret signals",
        "user_questions": [
          "How do I read RSI?",
          "What does RSI mean?",
          "RSI interpretation",
          "Understanding RSI signals"
        ],
        "keywords": ["how to read RSI", "what does RSI", "RSI interpretation", "understanding RSI"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "description": "Symbol to use for RSI education"
          }
        },
        "functions_used": ["getStockBars", "calculateRSI", "generateRSIEducationalContent"],
        "output_format": {
          "current_rsi": "number",
          "interpretation": "string",
          "signal_explanation": "string",
          "historical_examples": "array",
          "key_concepts": "array"
        },
        "complexity": "simple"
      },
      {
        "id": "market-timing-reality-check",
        "name": "Market Timing Reality Check",
        "description": "Educational analysis of market timing vs buy-and-hold",
        "user_questions": [
          "Can I time the market?",
          "Is market timing possible?",
          "Market timing vs buy and hold",
          "Should I try to time the market?"
        ],
        "keywords": ["time the market", "market timing", "timing vs buy hold"],
        "inputs": {
          "required": ["symbol"]
        },
        "parameters": {
          "symbol": {
            "type": "string",
            "default": "SPY",
            "description": "Index to use for timing analysis"
          },
          "analysis_period": {
            "type": "number",
            "default": 20,
            "description": "Years of data to analyze"
          }
        },
        "functions_used": ["backtestTechnicalStrategy", "simulatePerfectTiming", "calculateTimingCosts"],
        "output_format": {
          "timing_success_rate": "number",
          "buy_hold_return": "number",
          "perfect_timing_return": "number",
          "reality_gap": "number",
          "educational_insights": "array"
        },
        "complexity": "advanced"
      }
    ]
  },

  "tier_9_screening_tools": {
    "description": "Stock and ETF screening tools",
    "tools": [
      {
        "id": "oversold-stock-screener",
        "name": "Oversold Stock Screener",
        "description": "Find stocks with RSI oversold conditions",
        "user_questions": [
          "Which stocks are oversold?",
          "Oversold stocks today",
          "RSI oversold screener",
          "Find oversold opportunities"
        ],
        "keywords": ["which stocks oversold", "oversold stocks", "oversold screener", "find oversold"],
        "inputs": {
          "optional": ["universe", "rsi_threshold"]
        },
        "parameters": {
          "universe": {
            "type": "string",
            "options": ["sp500", "nasdaq100", "all"],
            "default": "sp500",
            "description": "Stock universe to screen"
          },
          "rsi_threshold": {
            "type": "number",
            "default": 30,
            "description": "RSI oversold threshold"
          },
          "min_volume": {
            "type": "number",
            "default": 1000000,
            "description": "Minimum daily volume filter"
          }
        },
        "functions_used": ["getMostActives", "calculateRSI", "screenOversoldStocks"],
        "output_format": {
          "oversold_stocks": "array",
          "total_count": "number",
          "average_rsi": "number",
          "sector_breakdown": "object"
        },
        "complexity": "intermediate"
      },
      {
        "id": "low-cost-etf-finder",
        "name": "Low-Cost ETF Finder", 
        "description": "Find ETFs with lowest expense ratios by category",
        "user_questions": [
          "Cheapest S&P 500 ETF",
          "Lowest cost ETFs",
          "ETF expense ratio comparison",
          "Find cheap ETFs"
        ],
        "keywords": ["cheapest", "lowest cost", "cheap ETFs", "expense ratio"],
        "inputs": {
          "required": ["category"]
        },
        "parameters": {
          "category": {
            "type": "string",
            "options": ["us_broad_market", "sp500", "international", "emerging_markets", "bonds"],
            "description": "ETF category to search"
          },
          "max_expense_ratio": {
            "type": "number",
            "default": 0.5,
            "description": "Maximum expense ratio filter"
          }
        },
        "functions_used": ["getETFsByCategory", "compareExpenseRatios"],
        "output_format": {
          "lowest_cost_etfs": "array",
          "average_expense_ratio": "number",
          "cost_savings_analysis": "object"
        },
        "complexity": "simple"
      },
      {
        "id": "dividend-quality-screener",
        "name": "Dividend Quality Screener",
        "description": "Find high-quality dividend stocks with sustainable payouts",
        "user_questions": [
          "Best dividend stocks", 
          "Safe dividend stocks",
          "High yield dividend screener",
          "Quality dividend stocks"
        ],
        "keywords": ["dividend stocks", "safe dividend", "high yield", "quality dividend"],
        "inputs": {
          "optional": ["min_yield", "max_payout_ratio"]
        },
        "parameters": {
          "min_yield": {
            "type": "number",
            "default": 2.0,
            "description": "Minimum dividend yield percentage"
          },
          "max_payout_ratio": {
            "type": "number",
            "default": 60,
            "description": "Maximum payout ratio for sustainability"
          },
          "min_div_growth": {
            "type": "number",
            "default": 5,
            "description": "Minimum years of dividend growth"
          }
        },
        "functions_used": ["getDividends", "getFundamentals", "analyzeDividendQuality"],
        "output_format": {
          "quality_dividend_stocks": "array",
          "yield_distribution": "object",
          "safety_scores": "object"
        },
        "complexity": "intermediate"
      }
    ]
  },

  "mapping_configuration": {
    "description": "Configuration for natural language question mapping",
    "keyword_weighting": {
      "exact_match": 10,
      "partial_match": 5,
      "context_match": 3,
      "synonym_match": 2
    },
    "fallback_strategy": {
      "no_match": "current-price-stats",
      "multiple_matches": "present_options_to_user",
      "ambiguous": "ask_clarifying_questions"
    },
    "common_synonyms": {
      "stock": ["equity", "share", "security"],
      "performance": ["returns", "gains", "growth"],
      "volatility": ["risk", "swings", "fluctuation"],
      "compare": ["vs", "versus", "against", "battle"]
    }
  }
}