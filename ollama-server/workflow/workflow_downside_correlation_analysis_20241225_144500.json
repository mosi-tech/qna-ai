{
  "question": "Which of my holdings has the highest downside correlation with SPY?",
  "plan": {
    "python_fallback": {
      "data_needed": [
        {
          "fn": "mcp__mcp-financial-server__alpaca_trading_positions",
          "args": {}
        },
        {
          "fn": "mcp__mcp-financial-server__alpaca_market_stocks_bars",
          "args": {
            "symbols": "{{position_symbols}}",
            "timeframe": "1Day",
            "start": "2023-01-01",
            "end": "2024-12-20"
          }
        },
        {
          "fn": "mcp__mcp-financial-server__alpaca_market_stocks_bars",
          "args": {
            "symbols": "SPY",
            "timeframe": "1Day", 
            "start": "2023-01-01",
            "end": "2024-12-20"
          }
        }
      ],
      "script_reference": "ollama-server/temp/calculate_downside_correlations_20241225_144500.py",
      "function_name": "calculate_downside_correlations",
      "execution_template": "# Load and execute the analysis function\nimport json\nimport sys\nsys.path.append('ollama-server/temp')\nfrom calculate_downside_correlations_20241225_144500 import calculate_downside_correlations\n\n# Execute analysis with MCP-provided context data\nresults = calculate_downside_correlations()\nprint(json.dumps(results))"
    }
  },
  "description": "Calculate downside correlation between portfolio holdings and SPY during market decline periods using real historical price data",
  "metadata": {
    "created_at": "2024-12-25T14:45:00Z",
    "question_type": "correlation_analysis",
    "analysis_method": "python_fallback",
    "data_sources": ["alpaca_trading", "alpaca_market_data"],
    "tracking_enabled": true
  }
}