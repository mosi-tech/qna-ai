{
  "id": "rsi-divergence-scanner",
  "name": "RSI Divergence Pattern Scanner",
  "file": "experimental/RSIDivergenceScanner.json",
  "output": "/experimental/RSIDivergenceScanner.json",
  "question": "Which stocks are showing bullish or bearish RSI divergence patterns?",
  "retailQuestion": "Which stocks might be reversing direction soon?",
  "description": "Scans for RSI divergence patterns where price and momentum indicators move in opposite directions, signaling potential trend reversals. Identifies both bullish divergences (lower lows in price vs higher lows in RSI) and bearish divergences (higher highs in price vs lower highs in RSI) with confirmation signals.",
  "apis": [
    "marketdata:/v1/screener/stocks/most-actives",
    "marketdata:/v2/stocks/bars",
    "trading:/v2/positions"
  ],
  "workflow": [
    {
      "type": "fetch",
      "description": "Step 1: Get active stocks universe for RSI divergence screening",
      "function": "alpaca-market_screener-most-actives"
    },
    {
      "type": "fetch",
      "description": "Step 2: Get historical price data for RSI calculation and trend analysis",
      "function": "alpaca-market_stocks-bars"
    },
    {
      "type": "fetch",
      "description": "Step 3: Get portfolio positions to check for divergence patterns in holdings",
      "function": "alpaca-trading_positions"
    },
    {
      "type": "engine",
      "description": "Step 4: Calculate RSI values and identify bullish/bearish divergence patterns with trend confirmation",
      "function": "detect_rsi_divergences"
    },
    {
      "type": "compute",
      "description": "Step 5: Rank divergence signals by strength and probability of reversal",
      "function": "client_compute"
    }
  ],
  "followUp": [
    "Should I sell my stock if it shows a bearish signal?",
    "How often do these reversal signals work?",
    "Is it safe to buy when I see a bullish signal?",
    "What should I do if the signal is wrong?"
  ]
}